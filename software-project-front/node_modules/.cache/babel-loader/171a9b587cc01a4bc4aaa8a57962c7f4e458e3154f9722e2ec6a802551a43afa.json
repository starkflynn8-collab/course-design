{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: \"Goods\",\n  data() {\n    return {\n      currUser: JSON.parse(localStorage.getItem(\"currUser\")),\n      drawerEdit: false,\n      drawerAdd: false,\n      adding: false,\n      // 提交时加载状态\n      fileList: [],\n      // 上传组件的文件列表\n      uploadFile: null,\n      // 当前选择的图片文件\n      previewVisible: false,\n      // 预览弹窗\n      goodsItem: {\n        gname: '',\n        gprice: null,\n        gcount: null,\n        gcontent: '',\n        glevel: 4 // 默认良好\n      },\n\n      previewUrl: '',\n      token: localStorage.getItem(\"token\"),\n      gName: null,\n      gPrice: null,\n      gContent: null,\n      currentPage: 1,\n      pageLimits: [10, 20, 30, 40],\n      limit: 10,\n      ids: [],\n      itemTotal: 10,\n      goods: [],\n      apiBase: 'http://localhost:8888'\n    };\n  },\n  methods: {\n    getImageUrl(gimage) {\n      if (!gImage) return '';\n      if (gImage.startsWith('http')) return gImage;\n      return this.apiBase + gImage;\n    },\n    handleImgError(e) {\n      e.target.src = this.apiBase + '/upload/default-book.jpg';\n    },\n    handleClose(done) {\n      this.goodsItem = {};\n      done();\n    },\n    handleSelectionChange(val) {\n      this.ids.length = 0;\n      val.forEach(item => {\n        this.ids.push(item.gid);\n      });\n    },\n    getGoods() {\n      console.log('强制重新请求商品数据'); // 加这行\n      this.axios.get(\"http://localhost:8888/goods/search\", {\n        params: {\n          gName: this.gName,\n          gPrice: this.gPrice,\n          gContent: this.gContent,\n          uId: this.currUser ? this.currUser.uid : null,\n          page: this.currentPage,\n          limit: this.limit,\n          t: new Date().getTime() // 加这行！强制不缓存\n        }\n      }).then(resp => {\n        console.log('后端返回数据:', resp.data); // 加这行！打印真实数据\n        if (resp.data.message === \"ok\" || resp.data.code === 200) {\n          this.itemTotal = resp.data.data.total || resp.data.data.totalRecords;\n          this.goods = resp.data.data.records || resp.data.data.list;\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    handleSizeChange(limit) {\n      this.limit = limit;\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getGoods();\n    },\n    search() {\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleEdit(index, row) {\n      // 深拷贝，避免直接修改表格数据\n      this.goodsItem = {\n        ...row\n      };\n      this.drawerEdit = true;\n    },\n    handleDelete(index, row) {\n      this.goodsItem = row;\n      this.$confirm(\"删除商品后不可恢复, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const params = new URLSearchParams();\n        params.append(\"token\", this.token);\n        params.append(\"gId\", this.goodsItem.gid);\n        this.axios.post(\"http://localhost:8888/goods/delete\", params, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        }).then(resp => {\n          this.$message.success(resp.data.message || \"删除成功\");\n          this.getGoods();\n        }).catch(error => {\n          console.error(error);\n          this.$message.error(\"删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"已取消删除\");\n      });\n    },\n    submitEdit() {\n      const params = new URLSearchParams();\n      params.append(\"token\", this.token);\n      params.append(\"gId\", this.goodsItem.gid);\n      params.append(\"gName\", this.goodsItem.gname);\n      params.append(\"gPrice\", this.goodsItem.gprice);\n      params.append(\"gCount\", this.goodsItem.gcount);\n      params.append(\"gContent\", this.goodsItem.gcontent || \"\");\n      params.append(\"gImage\", this.goodsItem.gimage || \"\");\n      params.append(\"uId\", this.goodsItem.uid);\n      params.append(\"gLevel\", this.goodsItem.glevel || 0);\n      this.axios.post(\"http://localhost:8888/goods/update\", params, {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(resp => {\n        this.$message.success(resp.data.message || \"修改成功\");\n        this.drawerEdit = false;\n        this.getGoods();\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"修改失败\");\n      }).finally(() => {\n        this.goodsItem = {};\n      });\n    },\n    addGoods() {\n      // 重置表单和上传状态\n      this.goodsItem = {\n        gname: \"\",\n        gprice: null,\n        gcount: null,\n        gcontent: \"\",\n        glevel: 4 // 默认“良好”\n      };\n\n      this.fileList = [];\n      this.uploadFile = null;\n      this.drawerAdd = true;\n    },\n    // el-upload 相关方法\n    handleFileChange(file, fileList) {\n      this.uploadFile = file.raw; // 保存原始文件对象\n      this.fileList = fileList.slice(-1); // 限制只保留最后一张（最多1张）\n    },\n\n    handleRemove() {\n      this.uploadFile = null;\n      this.fileList = [];\n    },\n    handlePreview(file) {\n      this.previewUrl = file.url;\n      this.previewVisible = true;\n    },\n    submitAdd() {\n      // 基础校验\n      if (!this.goodsItem.gname || this.goodsItem.gprice === null || this.goodsItem.gcount === null) {\n        this.$message.error(\"请填写商品名称、价格和数量\");\n        return;\n      }\n      this.adding = true;\n      const formData = new FormData();\n      formData.append(\"token\", this.token);\n      formData.append(\"gName\", this.goodsItem.gname);\n      formData.append(\"gPrice\", this.goodsItem.gprice);\n      formData.append(\"gCount\", this.goodsItem.gcount);\n      formData.append(\"gContent\", this.goodsItem.gcontent || \"\");\n      formData.append(\"gLevel\", this.goodsItem.glevel || 4);\n      if (this.uploadFile) {\n        formData.append(\"gImageFile\", this.uploadFile);\n      }\n      this.axios.post(\"http://localhost:8888/goods/add\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(resp => {\n        if (resp.data.code === 200 || resp.data.message.includes(\"成功\")) {\n          this.$message.success(\"商品发布成功！\");\n          this.drawerAdd = false;\n          this.getGoods();\n        } else {\n          this.$message.error(resp.data.message || \"发布失败\");\n        }\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"上传失败，请检查网络或图片大小\");\n      }).finally(() => {\n        this.adding = false;\n        this.goodsItem = {};\n      });\n    },\n    deleteIds() {\n      if (this.ids.length === 0) {\n        this.$message.error(\"请先选择要删除的商品\");\n        return;\n      }\n      this.$confirm(`确定批量删除这 ${this.ids.length} 件商品吗？`, \"提示\", {\n        type: \"warning\"\n      }).then(() => {\n        const params = new URLSearchParams();\n        params.append(\"token\", this.token);\n        this.ids.forEach(id => params.append(\"listId\", id));\n        this.axios.post(\"http://localhost:8888/goods/deleteById\", params, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        }).then(resp => {\n          this.$message.success(resp.data.message || \"批量删除成功\");\n          this.getGoods();\n        }).catch(error => {\n          console.error(error);\n          this.$message.error(\"批量删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"已取消批量删除\");\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","currUser","JSON","parse","localStorage","getItem","drawerEdit","drawerAdd","adding","fileList","uploadFile","previewVisible","goodsItem","gname","gprice","gcount","gcontent","glevel","previewUrl","token","gName","gPrice","gContent","currentPage","pageLimits","limit","ids","itemTotal","goods","apiBase","methods","getImageUrl","gimage","gImage","startsWith","handleImgError","e","target","src","handleClose","done","handleSelectionChange","val","length","forEach","item","push","gid","getGoods","console","log","axios","get","params","uId","uid","page","t","Date","getTime","then","resp","message","code","total","totalRecords","records","list","catch","error","handleSizeChange","handleCurrentChange","search","handleEdit","index","row","handleDelete","$confirm","confirmButtonText","cancelButtonText","type","URLSearchParams","append","post","headers","$message","success","info","submitEdit","finally","addGoods","handleFileChange","file","raw","slice","handleRemove","handlePreview","url","submitAdd","formData","FormData","includes","deleteIds","id"],"sources":["src/views/Goods/index.vue"],"sourcesContent":["<template>\n  <div>\n    <div style=\"padding-bottom: 20px\">\n      <el-input\n        placeholder=\"搜索商品名\"\n        v-model=\"gName\"\n        clearable\n        style=\"width: 150px\"\n      >\n      </el-input>\n      <el-input\n        placeholder=\"搜索商品价格\"\n        v-model=\"gPrice\"\n        clearable\n        style=\"width: 150px\"\n      >\n      </el-input>\n      <el-input\n        placeholder=\"搜索商品描述\"\n        v-model=\"gContent\"\n        clearable\n        style=\"width: 150px\"\n      >\n      </el-input>\n      <el-button type=\"primary\" @click=\"search\">搜索</el-button>\n    </div>\n    <div>\n      <el-button type=\"primary\" size=\"small\" @click=\"addGoods\">添加</el-button>\n      <el-button type=\"danger\" size=\"small\" @click=\"deleteIds\"\n        >批量删除</el-button\n      >\n    </div>\n    <el-table\n      ref=\"multipleTable\"\n      :data=\"goods\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n      <el-table-column prop=\"gId\" label=\"商品ID\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"gName\" label=\"商品名\" width=\"120\"></el-table-column>\n      <el-table-column prop=\"gCount\" label=\"商品数量\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"gPrice\" label=\"商品价格\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"gContent\" label=\"商品描述\" show-overflow-tooltip></el-table-column>\n      <el-table-column label=\"商品图片\" width=\"120\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <img\n              v-if=\"scope.row.gImage\"\n              :src=\"getImageUrl(scope.row.gImage)\"\n              style=\"width: 80px; height: 80px; object-fit: cover; border-radius: 4px; border: 1px solid #eee;\"\n              @error=\"handleImgError($event)\"\n          />\n          <span v-else style=\"color: #999;\">无图片</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"gLevel\" label=\"商品评价\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"uId\" label=\"卖家ID\" width=\"120\" sortable></el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\n            >编辑</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"pageLimits\"\n      :page-size=\"limit\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"itemTotal\"\n    >\n    </el-pagination>\n\n    <el-drawer\n      title=\"编辑商品\"\n      :visible.sync=\"drawerEdit\"\n      direction=\"rtl\"\n      :before-close=\"handleClose\"\n    >\n      <div style=\"margin: 10px\">\n        <el-form label-position=\"left\" label-width=\"80px\" :model=\"goodsItem\">\n          <el-form-item label=\"商品名称:\">\n            <el-input\n              v-model=\"goodsItem.gname\"\n              :placeholder=\"goodsItem.gname\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"商品价格:\">\n            <el-input\n              v-model=\"goodsItem.gprice\"\n              :placeholder=\"goodsItem.gprice\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"商品数量:\">\n            <el-input\n              v-model=\"goodsItem.gcount\"\n              :placeholder=\"goodsItem.gcount\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"商品图片:\">\n            <el-input\n              v-model=\"goodsItem.gimage\"\n              :placeholder=\"goodsItem.gimage\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"商品描述:\">\n            <el-input\n              v-model=\"goodsItem.gcontent\"\n              type=\"textarea\"\n              :placeholder=\"goodsItem.gcontent\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item style=\"display: flex; justify-content: center\">\n            <el-button type=\"primary\" @click=\"submitEdit\">修改</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-drawer>\n\n    <el-drawer title=\"添加商品\" :visible.sync=\"drawerAdd\" direction=\"rtl\" size=\"50%\">\n      <div style=\"padding: 20px\">\n        <el-form label-position=\"top\" :model=\"goodsItem\" ref=\"addForm\">\n          <el-form-item label=\"商品名称\" prop=\"gname\" :rules=\"[{ required: true, message: '请输入商品名称' }]\">\n            <el-input v-model=\"goodsItem.gname\" placeholder=\"请输入商品名称（如：高等数学 第7版）\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"商品价格（元）\" prop=\"gprice\" :rules=\"[{ required: true, message: '请输入价格' }]\">\n            <el-input v-model.number=\"goodsItem.gprice\" placeholder=\"例如：25.00\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"商品数量\" prop=\"gcount\" :rules=\"[{ required: true, message: '请输入数量' }]\">\n            <el-input v-model.number=\"goodsItem.gcount\" placeholder=\"库存数量\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"商品成色\" prop=\"glevel\">\n            <el-rate v-model=\"goodsItem.glevel\" :texts=\"['很差', '较差', '一般', '良好', '全新']\" show-text></el-rate>\n          </el-form-item>\n\n          <el-form-item label=\"商品描述\" prop=\"gcontent\">\n            <el-input\n                v-model=\"goodsItem.gcontent\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"描述书籍版本、划线情况、使用痕迹等，越详细越好\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"上传商品图片（最多1张）\">\n            <el-upload\n                action=\"#\"\n                list-type=\"picture-card\"\n                :auto-upload=\"false\"\n                :limit=\"1\"\n                :on-preview=\"handlePreview\"\n                :on-remove=\"handleRemove\"\n                :on-change=\"handleFileChange\"\n                :file-list=\"fileList\"\n                accept=\"image/*\"\n            >\n              <i class=\"el-icon-plus\"></i>\n            </el-upload>\n            <el-dialog :visible.sync=\"previewVisible\" append-to-body>\n              <img width=\"100%\" :src=\"previewUrl\" alt=\"\" />\n            </el-dialog>\n          </el-form-item>\n\n          <el-form-item style=\"text-align: center; margin-top: 30px\">\n            <el-button @click=\"drawerAdd = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitAdd\" :loading=\"adding\">发布商品</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Goods\",\n  data() {\n    return {\n      currUser: JSON.parse(localStorage.getItem(\"currUser\")),\n      drawerEdit: false,\n      drawerAdd: false,\n      adding: false,              // 提交时加载状态\n      fileList: [],              // 上传组件的文件列表\n      uploadFile: null,          // 当前选择的图片文件\n      previewVisible: false,     // 预览弹窗\n      goodsItem: {\n        gname: '',\n        gprice: null,\n        gcount: null,\n        gcontent: '',\n        glevel: 4   // 默认良好\n      },\n      previewUrl: '',\n      token: localStorage.getItem(\"token\"),\n      gName: null,\n      gPrice: null,\n      gContent: null,\n      currentPage: 1,\n      pageLimits: [10, 20, 30, 40],\n      limit: 10,\n      ids: [],\n      itemTotal: 10,\n      goods: [],\n      apiBase: 'http://localhost:8888',\n    };\n  },\n  methods: {\n    getImageUrl(gimage) {\n      if (!gImage) return '';\n      if (gImage.startsWith('http')) return gImage;\n      return this.apiBase + gImage;\n    },\n\n    handleImgError(e) {\n      e.target.src = this.apiBase + '/upload/default-book.jpg';\n    },\n    handleClose(done) {\n      this.goodsItem = {};\n      done();\n    },\n    handleSelectionChange(val) {\n      this.ids.length = 0;\n      val.forEach((item) => {\n        this.ids.push(item.gid);\n      });\n    },\n    getGoods() {\n      console.log('强制重新请求商品数据');  // 加这行\n      this.axios\n          .get(\"http://localhost:8888/goods/search\", {\n            params: {\n              gName: this.gName,\n              gPrice: this.gPrice,\n              gContent: this.gContent,\n              uId: this.currUser ? this.currUser.uid : null,\n              page: this.currentPage,\n              limit: this.limit,\n              t: new Date().getTime()  // 加这行！强制不缓存\n            },\n          })\n          .then((resp) => {\n            console.log('后端返回数据:', resp.data);  // 加这行！打印真实数据\n            if (resp.data.message === \"ok\" || resp.data.code === 200) {\n              this.itemTotal = resp.data.data.total || resp.data.data.totalRecords;\n              this.goods = resp.data.data.records || resp.data.data.list;\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n    },\n    handleSizeChange(limit) {\n      this.limit = limit;\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getGoods();\n    },\n    search() {\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleEdit(index, row) {\n      // 深拷贝，避免直接修改表格数据\n      this.goodsItem = {...row};\n      this.drawerEdit = true;\n    },\n    handleDelete(index, row) {\n      this.goodsItem = row;\n      this.$confirm(\"删除商品后不可恢复, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n          .then(() => {\n            const params = new URLSearchParams();\n            params.append(\"token\", this.token);\n            params.append(\"gId\", this.goodsItem.gid);\n\n            this.axios\n                .post(\"http://localhost:8888/goods/delete\", params, {\n                  headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n                })\n                .then((resp) => {\n                  this.$message.success(resp.data.message || \"删除成功\");\n                  this.getGoods();\n                })\n                .catch((error) => {\n                  console.error(error);\n                  this.$message.error(\"删除失败\");\n                });\n          })\n          .catch(() => {\n            this.$message.info(\"已取消删除\");\n          });\n    },\n    submitEdit() {\n      const params = new URLSearchParams();\n      params.append(\"token\", this.token);\n      params.append(\"gId\", this.goodsItem.gid);\n      params.append(\"gName\", this.goodsItem.gname);\n      params.append(\"gPrice\", this.goodsItem.gprice);\n      params.append(\"gCount\", this.goodsItem.gcount);\n      params.append(\"gContent\", this.goodsItem.gcontent || \"\");\n      params.append(\"gImage\", this.goodsItem.gimage || \"\");\n      params.append(\"uId\", this.goodsItem.uid);\n      params.append(\"gLevel\", this.goodsItem.glevel || 0);\n\n      this.axios\n          .post(\"http://localhost:8888/goods/update\", params, {\n            headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n          })\n          .then((resp) => {\n            this.$message.success(resp.data.message || \"修改成功\");\n            this.drawerEdit = false;\n            this.getGoods();\n          })\n          .catch((error) => {\n            console.error(error);\n            this.$message.error(\"修改失败\");\n          })\n          .finally(() => {\n            this.goodsItem = {};\n          });\n    },\n    addGoods() {\n      // 重置表单和上传状态\n      this.goodsItem = {\n        gname: \"\",\n        gprice: null,\n        gcount: null,\n        gcontent: \"\",\n        glevel: 4,  // 默认“良好”\n      };\n      this.fileList = [];\n      this.uploadFile = null;\n      this.drawerAdd = true;\n    },\n    // el-upload 相关方法\n    handleFileChange(file, fileList) {\n      this.uploadFile = file.raw;               // 保存原始文件对象\n      this.fileList = fileList.slice(-1);        // 限制只保留最后一张（最多1张）\n    },\n    handleRemove() {\n      this.uploadFile = null;\n      this.fileList = [];\n    },\n    handlePreview(file) {\n      this.previewUrl = file.url;\n      this.previewVisible = true;\n    },\n    submitAdd() {\n      // 基础校验\n      if (!this.goodsItem.gname || this.goodsItem.gprice === null || this.goodsItem.gcount === null) {\n        this.$message.error(\"请填写商品名称、价格和数量\");\n        return;\n      }\n\n      this.adding = true;\n\n      const formData = new FormData();\n      formData.append(\"token\", this.token);\n      formData.append(\"gName\", this.goodsItem.gname);\n      formData.append(\"gPrice\", this.goodsItem.gprice);\n      formData.append(\"gCount\", this.goodsItem.gcount);\n      formData.append(\"gContent\", this.goodsItem.gcontent || \"\");\n      formData.append(\"gLevel\", this.goodsItem.glevel || 4);\n      if (this.uploadFile) {\n        formData.append(\"gImageFile\", this.uploadFile);\n      }\n\n      this.axios\n          .post(\"http://localhost:8888/goods/add\", formData, {\n            headers: {\"Content-Type\": \"multipart/form-data\"},\n          })\n          .then((resp) => {\n            if (resp.data.code === 200 || resp.data.message.includes(\"成功\")) {\n              this.$message.success(\"商品发布成功！\");\n              this.drawerAdd = false;\n              this.getGoods();\n            } else {\n              this.$message.error(resp.data.message || \"发布失败\");\n            }\n          })\n          .catch((error) => {\n            console.error(error);\n            this.$message.error(\"上传失败，请检查网络或图片大小\");\n          })\n          .finally(() => {\n            this.adding = false;\n            this.goodsItem = {};\n          });\n    },\n    deleteIds() {\n      if (this.ids.length === 0) {\n        this.$message.error(\"请先选择要删除的商品\");\n        return;\n      }\n\n      this.$confirm(`确定批量删除这 ${this.ids.length} 件商品吗？`, \"提示\", {\n        type: \"warning\",\n      })\n          .then(() => {\n            const params = new URLSearchParams();\n            params.append(\"token\", this.token);\n            this.ids.forEach((id) => params.append(\"listId\", id));\n\n            this.axios\n                .post(\"http://localhost:8888/goods/deleteById\", params, {\n                  headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n                })\n                .then((resp) => {\n                  this.$message.success(resp.data.message || \"批量删除成功\");\n                  this.getGoods();\n                })\n                .catch((error) => {\n                  console.error(error);\n                  this.$message.error(\"批量删除失败\");\n                });\n          })\n          .catch(() => {\n            this.$message.info(\"已取消批量删除\");\n          });\n    },\n  },\n};\n</script>\n\n<style>\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}