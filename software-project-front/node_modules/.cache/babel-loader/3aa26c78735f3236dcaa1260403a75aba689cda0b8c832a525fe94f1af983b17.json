{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  name: \"Goods\",\n  data() {\n    return {\n      currUser: JSON.parse(localStorage.getItem(\"currUser\")),\n      uId: JSON.parse(localStorage.getItem(\"currUser\"))?.uid || null,\n      drawerEdit: false,\n      drawerAdd: false,\n      adding: false,\n      // 提交时加载状态\n      fileList: [],\n      // 上传组件的文件列表\n      uploadFile: null,\n      // 当前选择的图片文件\n      previewVisible: false,\n      // 预览弹窗\n      goodsItem: {\n        gName: '',\n        gPrice: null,\n        gCount: null,\n        gContent: '',\n        gLevel: 4,\n        gContact: '',\n        college: '',\n        campus: '',\n        subject: '',\n        type: ''\n      },\n      previewUrl: '',\n      token: localStorage.getItem(\"token\"),\n      gName: null,\n      gPrice: null,\n      gContent: null,\n      currentPage: 1,\n      pageLimits: [10, 20, 30, 40],\n      limit: 10,\n      ids: [],\n      itemTotal: 10,\n      goods: [],\n      apiBase: 'http://localhost:8888'\n    };\n  },\n  created() {\n    this.getGoods(); // 页面加载时显示当前用户商品\n  },\n\n  methods: {\n    getImageUrl(gimage) {\n      if (!gimage) return '';\n      if (gimage.startsWith('http')) return gimage;\n      return this.apiBase + gimage;\n    },\n    handleImgError(e) {\n      e.target.src = this.apiBase + '/upload/default-book.jpg';\n    },\n    handleClose(done) {\n      this.goodsItem = {};\n      done();\n    },\n    handleSelectionChange(val) {\n      this.ids.length = 0;\n      val.forEach(item => {\n        this.ids.push(item.gId);\n      });\n    },\n    getGoods() {\n      console.log('强制重新请求商品数据'); // 加这行\n      this.axios.get(\"http://localhost:8888/goods/search\", {\n        params: {\n          gName: this.gName,\n          gPrice: this.gPrice,\n          gContent: this.gContent,\n          uId: this.uId,\n          page: this.currentPage,\n          limit: this.limit,\n          t: new Date().getTime() // 加这行！强制不缓存\n        }\n      }).then(resp => {\n        console.log('后端返回数据:', resp.data); // 加这行！打印真实数据\n        if (resp.data.message === \"ok\" || resp.data.code === 200) {\n          this.itemTotal = resp.data.data.total || resp.data.data.totalRecords;\n          this.goods = resp.data.data.records.map(item => ({\n            gId: item.gid || item.gId,\n            gName: item.gname || item.gName,\n            gPrice: item.gprice || item.gPrice,\n            gCount: item.gcount || item.gCount,\n            gContent: item.gcontent || item.gContent,\n            gLevel: item.glevel || item.gLevel,\n            gContact: item.gcontact || item.gContact,\n            uId: item.uid || item.uId,\n            gImage: item.gimage || item.gImage,\n            college: item.college,\n            campus: item.campus,\n            subject: item.subject,\n            type: item.type\n          }));\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    handleSizeChange(limit) {\n      this.limit = limit;\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getGoods();\n    },\n    search() {\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleEdit(index, row) {\n      this.goodsItem = {\n        ...row\n      };\n\n      // 初始化上传组件\n      this.fileList = [];\n      this.uploadFile = null;\n      if (row.gImage) {\n        this.fileList = [{\n          name: '原图片',\n          url: this.getImageUrl(row.gImage),\n          status: 'finished',\n          // 标记已上传\n          gImage: row.gImage // 保留原图片地址\n        }];\n      }\n\n      this.drawerEdit = true;\n    },\n    handleDelete(index, row) {\n      this.goodsItem = row;\n      this.$confirm(\"删除商品后不可恢复, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        const params = new URLSearchParams();\n        params.append(\"token\", this.token);\n        params.append(\"gId\", this.goodsItem.gId);\n        this.axios.post(\"http://localhost:8888/goods/delete\", params, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        }).then(resp => {\n          this.$message.success(resp.data.message || \"删除成功\");\n          this.getGoods();\n        }).catch(error => {\n          console.error(error);\n          this.$message.error(\"删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"已取消删除\");\n      });\n    },\n    submitEdit() {\n      // 基础校验\n      if (!this.goodsItem.gName || this.goodsItem.gPrice === null || this.goodsItem.gCount === null) {\n        this.$message.error(\"请填写商品名称、价格和数量\");\n        return;\n      }\n      const formData = new FormData();\n      formData.append(\"token\", this.token);\n      formData.append(\"gId\", this.goodsItem.gId);\n      formData.append(\"gName\", this.goodsItem.gName);\n      formData.append(\"gPrice\", this.goodsItem.gPrice);\n      formData.append(\"gCount\", this.goodsItem.gCount);\n      formData.append(\"gContent\", this.goodsItem.gContent || \"\");\n      formData.append(\"gLevel\", this.goodsItem.gLevel || 0);\n      formData.append(\"gContact\", this.goodsItem.gContact || \"\");\n      formData.append(\"college\", this.goodsItem.college);\n      formData.append(\"campus\", this.goodsItem.campus);\n      formData.append(\"subject\", this.goodsItem.subject);\n      formData.append(\"type\", this.goodsItem.type);\n      formData.append(\"uId\", this.goodsItem.uId);\n      if (this.uploadFile) {\n        formData.append(\"gImageFile\", this.uploadFile); // 新图片\n      } else if (this.fileList.length && this.fileList[0].gImage) {\n        formData.append(\"gImage\", this.fileList[0].gImage); // 保留原图\n      }\n\n      this.axios.post(\"http://localhost:8888/goods/update\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(resp => {\n        this.$message.success(resp.data.message || \"修改成功\");\n        this.drawerEdit = false;\n        this.getGoods();\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"修改失败\");\n      }).finally(() => {\n        this.goodsItem = {};\n        this.uploadFile = null;\n        this.fileList = [];\n      });\n    },\n    addGoods() {\n      // 重置表单和上传状态\n      this.goodsItem = {\n        gName: \"\",\n        gPrice: null,\n        gCount: null,\n        gContent: \"\",\n        gLevel: 4,\n        gContact: \"\",\n        college: \"\",\n        campus: \"\",\n        subject: \"\",\n        type: \"\"\n      };\n      this.fileList = [];\n      this.uploadFile = null;\n      this.drawerAdd = true;\n    },\n    // el-upload 相关方法\n    handleFileChange(file, fileList) {\n      this.uploadFile = file.raw || null; // 保存原始文件对象\n      this.fileList = fileList.slice(-1); // 限制只保留最后一张（最多1张）\n    },\n\n    handleRemove() {\n      this.uploadFile = null;\n      this.fileList = [];\n    },\n    handlePreview(file) {\n      this.previewUrl = file.url;\n      this.previewVisible = true;\n    },\n    submitAdd() {\n      // 基础校验\n      if (!this.goodsItem.gName || this.goodsItem.gPrice === null || this.goodsItem.gCount === null) {\n        this.$message.error(\"请填写商品名称、价格和数量\");\n        return;\n      }\n      this.adding = true;\n      const formData = new FormData();\n      formData.append(\"token\", this.token);\n      formData.append(\"gName\", this.goodsItem.gName);\n      formData.append(\"gPrice\", this.goodsItem.gPrice);\n      formData.append(\"gCount\", this.goodsItem.gCount);\n      formData.append(\"gContent\", this.goodsItem.gContent || \"\");\n      formData.append(\"gLevel\", this.goodsItem.gLevel || 4);\n      formData.append(\"gContact\", this.goodsItem.gContact);\n      formData.append(\"college\", this.goodsItem.college);\n      formData.append(\"campus\", this.goodsItem.campus);\n      formData.append(\"subject\", this.goodsItem.subject);\n      formData.append(\"type\", this.goodsItem.type);\n      if (this.uploadFile) {\n        formData.append(\"gImageFile\", this.uploadFile);\n      }\n      this.axios.post(\"http://localhost:8888/goods/add\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(resp => {\n        if (resp.data.code === 200 || resp.data.message.includes(\"成功\")) {\n          this.$message.success(\"商品发布成功！\");\n          this.drawerAdd = false;\n          this.getGoods();\n        } else {\n          this.$message.error(resp.data.message || \"发布失败\");\n        }\n      }).catch(error => {\n        console.error(error);\n        this.$message.error(\"上传失败，请检查网络或图片大小\");\n      }).finally(() => {\n        this.adding = false;\n        this.goodsItem = {};\n      });\n    },\n    deleteIds() {\n      if (this.ids.length === 0) {\n        this.$message.error(\"请先选择要删除的商品\");\n        return;\n      }\n      this.$confirm(`确定批量删除这 ${this.ids.length} 件商品吗？`, \"提示\", {\n        type: \"warning\"\n      }).then(() => {\n        const params = new URLSearchParams();\n        params.append(\"token\", this.token);\n        this.ids.forEach(id => params.append(\"listId\", id));\n        this.axios.post(\"http://localhost:8888/goods/deleteById\", params, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          }\n        }).then(resp => {\n          this.$message.success(resp.data.message || \"批量删除成功\");\n          this.getGoods();\n        }).catch(error => {\n          console.error(error);\n          this.$message.error(\"批量删除失败\");\n        });\n      }).catch(() => {\n        this.$message.info(\"已取消批量删除\");\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","currUser","JSON","parse","localStorage","getItem","uId","uid","drawerEdit","drawerAdd","adding","fileList","uploadFile","previewVisible","goodsItem","gName","gPrice","gCount","gContent","gLevel","gContact","college","campus","subject","type","previewUrl","token","currentPage","pageLimits","limit","ids","itemTotal","goods","apiBase","created","getGoods","methods","getImageUrl","gimage","startsWith","handleImgError","e","target","src","handleClose","done","handleSelectionChange","val","length","forEach","item","push","gId","console","log","axios","get","params","page","t","Date","getTime","then","resp","message","code","total","totalRecords","records","map","gid","gname","gprice","gcount","gcontent","glevel","gcontact","gImage","catch","error","handleSizeChange","handleCurrentChange","search","handleEdit","index","row","url","status","handleDelete","$confirm","confirmButtonText","cancelButtonText","URLSearchParams","append","post","headers","$message","success","info","submitEdit","formData","FormData","finally","addGoods","handleFileChange","file","raw","slice","handleRemove","handlePreview","submitAdd","includes","deleteIds","id"],"sources":["src/views/Goods/index.vue"],"sourcesContent":["<template>\n  <div>\n    <div style=\"padding-bottom: 20px\">\n      <el-input\n        placeholder=\"搜索商品名\"\n        v-model=\"gName\"\n        clearable\n        style=\"width: 150px\"\n      >\n      </el-input>\n      <el-input\n        placeholder=\"搜索商品价格\"\n        v-model=\"gPrice\"\n        clearable\n        style=\"width: 150px\"\n      >\n      </el-input>\n      <el-input\n        placeholder=\"搜索商品描述\"\n        v-model=\"gContent\"\n        clearable\n        style=\"width: 150px\"\n      >\n      </el-input>\n      <el-button type=\"primary\" @click=\"search\">搜索</el-button>\n    </div>\n    <div>\n      <el-button type=\"primary\" size=\"small\" @click=\"addGoods\">添加</el-button>\n      <el-button type=\"danger\" size=\"small\" @click=\"deleteIds\"\n        >批量删除</el-button\n      >\n    </div>\n    <el-table\n      ref=\"multipleTable\"\n      :data=\"goods\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column prop=\"gId\" label=\"商品ID\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"gName\" label=\"商品名\" width=\"120\"></el-table-column>\n      <el-table-column prop=\"gCount\" label=\"商品数量\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"gPrice\" label=\"商品价格\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"gContent\" label=\"商品描述\" show-overflow-tooltip></el-table-column>\n\n      <el-table-column prop=\"gLevel\" label=\"商品评价\" width=\"120\" sortable></el-table-column>\n      <el-table-column prop=\"uId\" label=\"卖家ID\" width=\"120\" sortable></el-table-column>\n      <el-table-column\n          prop=\"gContact\"\n          label=\"联系方式\"\n          width=\"150\"\n          show-overflow-tooltip\n      ></el-table-column>\n\n      <el-table-column label=\"商品图片\" width=\"120\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <img\n              v-if=\"scope.row.gImage\"\n              :src=\"getImageUrl(scope.row.gImage)\"\n              style=\"width: 80px; height: 80px; object-fit: cover; border-radius: 4px; border: 1px solid #eee;\"\n              @error=\"handleImgError($event)\"\n          />\n          <span v-else style=\"color: #999;\">无图片</span>\n        </template>\n      </el-table-column>\n\n\n\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\"\n            >编辑</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.$index, scope.row)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"pageLimits\"\n      :page-size=\"limit\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"itemTotal\"\n    >\n    </el-pagination>\n\n    <el-drawer\n      title=\"编辑商品\"\n      :visible.sync=\"drawerEdit\"\n      direction=\"rtl\"\n      :before-close=\"handleClose\"\n    >\n      <div style=\"margin: 10px\">\n        <el-form label-position=\"left\" label-width=\"80px\" :model=\"goodsItem\">\n          <el-form-item label=\"商品名称:\">\n            <el-input\n              v-model=\"goodsItem.gName\"\n              :placeholder=\"goodsItem.gName\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"所属学院\" prop=\"college\"\n                        :rules=\"[{ required: true, message: '请选择学院' }]\">\n            <el-select v-model=\"goodsItem.college\" placeholder=\"请选择学院\">\n              <el-option label=\"工学\" value=\"工学\"/>\n              <el-option label=\"理学\" value=\"理学\"/>\n              <el-option label=\"经济管理\" value=\"经管\"/>\n              <el-option label=\"人文社科\" value=\"人文\"/>\n              <el-option label=\"医学\" value=\"医学\"/>\n              <el-option label=\"艺术\" value=\"艺术\"/>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"校区\" prop=\"campus\"\n                        :rules=\"[{ required: true, message: '请选择校区' }]\">\n            <el-select v-model=\"goodsItem.campus\" placeholder=\"请选择校区\">\n              <el-option label=\"九龙湖校区\" value=\"九龙湖\"/>\n              <el-option label=\"四牌楼校区\" value=\"四牌楼\"/>\n              <el-option label=\"丁家桥校区\" value=\"丁家桥\"/>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"课程类别\" prop=\"subject\">\n            <el-radio-group v-model=\"goodsItem.subject\">\n              <el-radio label=\"通识基础课\"/>\n              <el-radio label=\"专业课\"/>\n            </el-radio-group>\n          </el-form-item>\n\n          <el-form-item label=\"书籍类型\" prop=\"type\">\n            <el-select v-model=\"goodsItem.type\">\n              <el-option label=\"教材\" value=\"教材\"/>\n              <el-option label=\"参考书\" value=\"参考书\"/>\n              <el-option label=\"考研资料\" value=\"考研\"/>\n              <el-option label=\"其他\" value=\"其他\"/>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"商品价格:\">\n            <el-input\n              v-model=\"goodsItem.gPrice\"\n              :placeholder=\"goodsItem.gPrice\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"商品数量:\">\n            <el-input\n              v-model=\"goodsItem.gCount\"\n              :placeholder=\"goodsItem.gCount\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"商品图片\">\n            <el-upload\n                action=\"#\"\n                list-type=\"picture-card\"\n                :auto-upload=\"false\"\n                :limit=\"1\"\n                :on-preview=\"handlePreview\"\n                :on-remove=\"handleRemove\"\n                :on-change=\"handleFileChange\"\n                :file-list=\"fileList\"\n                accept=\"image/*\"\n            >\n              <i class=\"el-icon-plus\"></i>\n            </el-upload>\n            <el-dialog :visible.sync=\"previewVisible\" append-to-body>\n              <img width=\"100%\" :src=\"previewUrl\" alt=\"\" />\n            </el-dialog>\n          </el-form-item>\n\n          <el-form-item label=\"商品描述:\">\n            <el-input\n              v-model=\"goodsItem.gContent\"\n              type=\"textarea\"\n              :placeholder=\"goodsItem.gContent\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item\n              label=\"商家联系方式\"\n              prop=\"gContact\"\n              :rules=\"[{ required: true, message: '请输入联系方式' }]\"\n          >\n            <el-input\n                v-model=\"goodsItem.gContact\"\n                placeholder=\"请输入手机号 / 微信号 / QQ\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item style=\"display: flex; justify-content: center\">\n            <el-button type=\"primary\" @click=\"submitEdit\">修改</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-drawer>\n\n    <el-drawer title=\"添加商品\" :visible.sync=\"drawerAdd\" direction=\"rtl\" size=\"50%\">\n      <div style=\"padding: 20px\">\n        <el-form label-position=\"top\" :model=\"goodsItem\" ref=\"addForm\">\n          <el-form-item label=\"商品名称\" prop=\"gName\" :rules=\"[{ required: true, message: '请输入商品名称' }]\">\n            <el-input v-model=\"goodsItem.gName\" placeholder=\"请输入商品名称（如：高等数学 第7版）\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"所属学院\" prop=\"college\"\n                        :rules=\"[{ required: true, message: '请选择学院' }]\">\n            <el-select v-model=\"goodsItem.college\" placeholder=\"请选择学院\">\n              <el-option label=\"工学\" value=\"工学\"/>\n              <el-option label=\"理学\" value=\"理学\"/>\n              <el-option label=\"经管\" value=\"经管\"/>\n              <el-option label=\"人文\" value=\"人文\"/>\n              <el-option label=\"医学\" value=\"医学\"/>\n              <el-option label=\"艺术\" value=\"艺术\"/>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"校区\" prop=\"campus\"\n                        :rules=\"[{ required: true, message: '请选择校区' }]\">\n            <el-select v-model=\"goodsItem.campus\" placeholder=\"请选择校区\">\n              <el-option label=\"九龙湖校区\" value=\"九龙湖\"/>\n              <el-option label=\"四牌楼校区\" value=\"四牌楼\"/>\n              <el-option label=\"丁家桥校区\" value=\"丁家桥\"/>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"课程类别\" prop=\"subject\">\n            <el-radio-group v-model=\"goodsItem.subject\">\n              <el-radio label=\"通识基础课\"/>\n              <el-radio label=\"专业课\"/>\n            </el-radio-group>\n          </el-form-item>\n\n          <el-form-item label=\"书籍类型\" prop=\"type\">\n            <el-select v-model=\"goodsItem.type\">\n              <el-option label=\"教材\" value=\"教材\"/>\n              <el-option label=\"参考书\" value=\"参考书\"/>\n              <el-option label=\"考研资料\" value=\"考研\"/>\n              <el-option label=\"其他\" value=\"其他\"/>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"商品价格（元）\" prop=\"gPrice\" :rules=\"[{ required: true, message: '请输入价格' }]\">\n            <el-input v-model.number=\"goodsItem.gPrice\" placeholder=\"例如：25.00\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"商品数量\" prop=\"gCount\" :rules=\"[{ required: true, message: '请输入数量' }]\">\n            <el-input v-model.number=\"goodsItem.gCount\" placeholder=\"库存数量\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"商品成色\" prop=\"gLevel\">\n            <el-rate v-model=\"goodsItem.gLevel\" :texts=\"['很差', '较差', '一般', '良好', '全新']\" show-text></el-rate>\n          </el-form-item>\n\n          <el-form-item label=\"商品描述\" prop=\"gContent\">\n            <el-input\n                v-model=\"goodsItem.gContent\"\n                type=\"textarea\"\n                :rows=\"4\"\n                placeholder=\"描述书籍版本、划线情况、使用痕迹等，越详细越好\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"联系方式:\">\n            <el-input\n                v-model=\"goodsItem.gContact\"\n                placeholder=\"请输入联系方式\"\n            ></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"上传商品图片（最多1张）\">\n            <el-upload\n                action=\"#\"\n                list-type=\"picture-card\"\n                :auto-upload=\"false\"\n                :limit=\"1\"\n                :on-preview=\"handlePreview\"\n                :on-remove=\"handleRemove\"\n                :on-change=\"handleFileChange\"\n                :file-list=\"fileList\"\n                accept=\"image/*\"\n            >\n              <i class=\"el-icon-plus\"></i>\n            </el-upload>\n            <el-dialog :visible.sync=\"previewVisible\" append-to-body>\n              <img width=\"100%\" :src=\"previewUrl\" alt=\"\" />\n            </el-dialog>\n          </el-form-item>\n\n          <el-form-item style=\"text-align: center; margin-top: 30px\">\n            <el-button @click=\"drawerAdd = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitAdd\" :loading=\"adding\">发布商品</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Goods\",\n  data() {\n    return {\n      currUser: JSON.parse(localStorage.getItem(\"currUser\")),\n      uId: JSON.parse(localStorage.getItem(\"currUser\"))?.uid || null,\n      drawerEdit: false,\n      drawerAdd: false,\n      adding: false,              // 提交时加载状态\n      fileList: [],              // 上传组件的文件列表\n      uploadFile: null,          // 当前选择的图片文件\n      previewVisible: false,     // 预览弹窗\n      goodsItem: {\n        gName: '',\n        gPrice: null,\n        gCount: null,\n        gContent: '',\n        gLevel: 4,\n        gContact: '',\n        college: '',\n        campus: '',\n        subject: '',\n        type: ''\n      },\n      previewUrl: '',\n      token: localStorage.getItem(\"token\"),\n      gName: null,\n      gPrice: null,\n      gContent: null,\n      currentPage: 1,\n      pageLimits: [10, 20, 30, 40],\n      limit: 10,\n      ids: [],\n      itemTotal: 10,\n      goods: [],\n      apiBase: 'http://localhost:8888',\n    };\n  },\n  created() {\n    this.getGoods(); // 页面加载时显示当前用户商品\n  },\n\n  methods: {\n    getImageUrl(gimage) {\n      if (!gimage) return '';\n      if (gimage.startsWith('http')) return gimage;\n      return this.apiBase + gimage;\n    },\n    handleImgError(e) {\n      e.target.src = this.apiBase + '/upload/default-book.jpg';\n    },\n    handleClose(done) {\n      this.goodsItem = {};\n      done();\n    },\n    handleSelectionChange(val) {\n      this.ids.length = 0;\n      val.forEach((item) => {\n        this.ids.push(item.gId);\n      });\n    },\n    getGoods() {\n      console.log('强制重新请求商品数据');  // 加这行\n      this.axios\n          .get(\"http://localhost:8888/goods/search\", {\n            params: {\n              gName: this.gName,\n              gPrice: this.gPrice,\n              gContent: this.gContent,\n              uId: this.uId,\n\n              page: this.currentPage,\n              limit: this.limit,\n              t: new Date().getTime()  // 加这行！强制不缓存\n            },\n          })\n          .then((resp) => {\n            console.log('后端返回数据:', resp.data);  // 加这行！打印真实数据\n            if (resp.data.message === \"ok\" || resp.data.code === 200) {\n              this.itemTotal = resp.data.data.total || resp.data.data.totalRecords;\n              this.goods = resp.data.data.records.map(item => ({\n                gId: item.gid || item.gId,\n                gName: item.gname || item.gName,\n                gPrice: item.gprice || item.gPrice,\n                gCount: item.gcount || item.gCount,\n                gContent: item.gcontent || item.gContent,\n                gLevel: item.glevel || item.gLevel,\n                gContact: item.gcontact || item.gContact,\n                uId: item.uid || item.uId,\n                gImage: item.gimage || item.gImage,\n                college: item.college,\n                campus: item.campus,\n                subject: item.subject,\n                type: item.type\n              }));\n\n\n\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n    },\n    handleSizeChange(limit) {\n      this.limit = limit;\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getGoods();\n    },\n    search() {\n      this.currentPage = 1;\n      this.getGoods();\n    },\n    handleEdit(index, row) {\n      this.goodsItem = {...row};\n\n      // 初始化上传组件\n      this.fileList = [];\n      this.uploadFile = null;\n\n      if (row.gImage) {\n        this.fileList = [\n          {\n            name: '原图片',\n            url: this.getImageUrl(row.gImage),\n            status: 'finished',  // 标记已上传\n            gImage: row.gImage   // 保留原图片地址\n          }\n        ];\n      }\n\n      this.drawerEdit = true;\n    },\n\n\n    handleDelete(index, row) {\n      this.goodsItem = row;\n      this.$confirm(\"删除商品后不可恢复, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n          .then(() => {\n            const params = new URLSearchParams();\n            params.append(\"token\", this.token);\n            params.append(\"gId\", this.goodsItem.gId);\n\n            this.axios\n                .post(\"http://localhost:8888/goods/delete\", params, {\n                  headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n                })\n                .then((resp) => {\n                  this.$message.success(resp.data.message || \"删除成功\");\n                  this.getGoods();\n                })\n                .catch((error) => {\n                  console.error(error);\n                  this.$message.error(\"删除失败\");\n                });\n          })\n          .catch(() => {\n            this.$message.info(\"已取消删除\");\n          });\n    },\n    submitEdit() {\n      // 基础校验\n      if (!this.goodsItem.gName || this.goodsItem.gPrice === null || this.goodsItem.gCount === null) {\n        this.$message.error(\"请填写商品名称、价格和数量\");\n        return;\n      }\n\n      const formData = new FormData();\n      formData.append(\"token\", this.token);\n      formData.append(\"gId\", this.goodsItem.gId);\n      formData.append(\"gName\", this.goodsItem.gName);\n      formData.append(\"gPrice\", this.goodsItem.gPrice);\n      formData.append(\"gCount\", this.goodsItem.gCount);\n      formData.append(\"gContent\", this.goodsItem.gContent || \"\");\n      formData.append(\"gLevel\", this.goodsItem.gLevel || 0);\n      formData.append(\"gContact\", this.goodsItem.gContact || \"\");\n      formData.append(\"college\", this.goodsItem.college);\n      formData.append(\"campus\", this.goodsItem.campus);\n      formData.append(\"subject\", this.goodsItem.subject);\n      formData.append(\"type\", this.goodsItem.type);\n      formData.append(\"uId\", this.goodsItem.uId);\n\n      if (this.uploadFile) {\n        formData.append(\"gImageFile\", this.uploadFile);  // 新图片\n      } else if (this.fileList.length && this.fileList[0].gImage) {\n        formData.append(\"gImage\", this.fileList[0].gImage);  // 保留原图\n      }\n\n      this.axios\n          .post(\"http://localhost:8888/goods/update\", formData, {\n            headers: {\"Content-Type\": \"multipart/form-data\"},\n          })\n          .then((resp) => {\n            this.$message.success(resp.data.message || \"修改成功\");\n            this.drawerEdit = false;\n            this.getGoods();\n          })\n          .catch((error) => {\n            console.error(error);\n            this.$message.error(\"修改失败\");\n          })\n          .finally(() => {\n            this.goodsItem = {};\n            this.uploadFile = null;\n            this.fileList = [];\n          });\n    },\n\n\n    addGoods() {\n      // 重置表单和上传状态\n      this.goodsItem = {\n        gName: \"\",\n        gPrice: null,\n        gCount: null,\n        gContent: \"\",\n        gLevel: 4,\n        gContact: \"\",\n        college: \"\",\n        campus: \"\",\n        subject: \"\",\n        type: \"\"\n      };\n\n      this.fileList = [];\n      this.uploadFile = null;\n      this.drawerAdd = true;\n    },\n    // el-upload 相关方法\n    handleFileChange(file, fileList) {\n      this.uploadFile = file.raw || null;             // 保存原始文件对象\n      this.fileList = fileList.slice(-1);        // 限制只保留最后一张（最多1张）\n    },\n    handleRemove() {\n      this.uploadFile = null;\n      this.fileList = [];\n    },\n    handlePreview(file) {\n      this.previewUrl = file.url;\n      this.previewVisible = true;\n    },\n    submitAdd() {\n      // 基础校验\n      if (!this.goodsItem.gName || this.goodsItem.gPrice === null || this.goodsItem.gCount === null) {\n        this.$message.error(\"请填写商品名称、价格和数量\");\n        return;\n      }\n\n\n      this.adding = true;\n\n      const formData = new FormData();\n      formData.append(\"token\", this.token);\n      formData.append(\"gName\", this.goodsItem.gName);\n      formData.append(\"gPrice\", this.goodsItem.gPrice);\n      formData.append(\"gCount\", this.goodsItem.gCount);\n      formData.append(\"gContent\", this.goodsItem.gContent || \"\");\n      formData.append(\"gLevel\", this.goodsItem.gLevel || 4);\n      formData.append(\"gContact\", this.goodsItem.gContact);\n      formData.append(\"college\", this.goodsItem.college);\n      formData.append(\"campus\", this.goodsItem.campus);\n      formData.append(\"subject\", this.goodsItem.subject);\n      formData.append(\"type\", this.goodsItem.type);\n\n\n      if (this.uploadFile) {\n        formData.append(\"gImageFile\", this.uploadFile);\n      }\n\n      this.axios\n          .post(\"http://localhost:8888/goods/add\", formData, {\n            headers: {\"Content-Type\": \"multipart/form-data\"},\n          })\n          .then((resp) => {\n            if (resp.data.code === 200 || resp.data.message.includes(\"成功\")) {\n              this.$message.success(\"商品发布成功！\");\n              this.drawerAdd = false;\n              this.getGoods();\n            } else {\n              this.$message.error(resp.data.message || \"发布失败\");\n            }\n          })\n          .catch((error) => {\n            console.error(error);\n            this.$message.error(\"上传失败，请检查网络或图片大小\");\n          })\n          .finally(() => {\n            this.adding = false;\n            this.goodsItem = {};\n          });\n    },\n    deleteIds() {\n      if (this.ids.length === 0) {\n        this.$message.error(\"请先选择要删除的商品\");\n        return;\n      }\n\n      this.$confirm(`确定批量删除这 ${this.ids.length} 件商品吗？`, \"提示\", {\n        type: \"warning\",\n      })\n          .then(() => {\n            const params = new URLSearchParams();\n            params.append(\"token\", this.token);\n            this.ids.forEach((id) => params.append(\"listId\", id));\n\n            this.axios\n                .post(\"http://localhost:8888/goods/deleteById\", params, {\n                  headers: {\"Content-Type\": \"application/x-www-form-urlencoded\"},\n                })\n                .then((resp) => {\n                  this.$message.success(resp.data.message || \"批量删除成功\");\n                  this.getGoods();\n                })\n                .catch((error) => {\n                  console.error(error);\n                  this.$message.error(\"批量删除失败\");\n                });\n          })\n          .catch(() => {\n            this.$message.info(\"已取消批量删除\");\n          });\n    },\n  },\n};\n</script>\n\n<style>\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}